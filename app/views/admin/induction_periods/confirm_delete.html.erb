<%
  page_data(
    title: "Delete induction period for #{teacher_full_name(@induction_period.teacher)}",
    backlink_href: admin_teacher_path(@induction_period.teacher)
  )
%>

<%= govuk_warning_text do %>
  Are you sure you want to delete this induction period?<br>
  This action cannot be undone.
<% end %>

<%=
  govuk_summary_list do |sl|
    sl.with_row do |row|
      row.with_key(text: 'Teacher')
      row.with_value(text: teacher_full_name(@induction_period.teacher))
    end
    sl.with_row do |row|
      row.with_key(text: 'Induction programme')
      row.with_value(text: training_programme_name(@induction_period.training_programme))
    end
    sl.with_row do |row|
      row.with_key(text: 'Start date')
      row.with_value(text: @induction_period.started_on.to_fs(:govuk))
    end

    if @induction_period.finished_on.present?
      sl.with_row do |row|
        row.with_key(text: 'End date')
        row.with_value(text: @induction_period.finished_on.to_fs(:govuk))
      end
    end

    if @induction_period.number_of_terms.present?
      sl.with_row do |row|
        row.with_key(text: 'Number of terms')
        row.with_value(text: @induction_period.number_of_terms)
      end
    end
  end
%>

<%= form_with(
      model: @delete_induction,
      url: admin_teacher_induction_period_path(@induction_period.teacher, @induction_period),
      method: :delete
    ) do |form| %>

  <%= content_for(:error_summary) { form.govuk_error_summary } %>

  <%= render Admin::ContextFormFieldsComponent.new(form:) %>

  <div class="govuk-button-group">
    <%= form.govuk_submit "Delete induction period", warning: true %>
    <%= govuk_button_link_to "Cancel", admin_teacher_path(@induction_period.teacher), secondary: true %>
  </div>
<% end %>
