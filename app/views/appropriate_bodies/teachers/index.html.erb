<% page_data(title: @appropriate_body.name, error: false) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <%= govuk_button_link_to("Find and claim a new ECT", new_ab_claim_an_ect_find_path) %>
    <hr class="govuk-section-break--l">
  </div>
</div>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-m">
      <%= claimed_inductions_text(@claimed_inductions_count) %>
    </h2>
  </div>
</div>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third">
    <%= form_with method: :get do |f| %>
      <%= f.govuk_text_field(
            "q",
            value: params[:q],
            label: { text: "Search claimed ECTs", size: "s" },
            hint: { text: "Enter a name or TRN" },
          )
      %>

      <div class="govuk-button-group">
        <%= f.govuk_submit("Search") %>
        <%= govuk_link_to("Reset", ab_teachers_path, secondary: true) %>
      </div>
    <% end %>
  </div>

  <%
    appropriate_bodies = AppropriateBody.all.map(&:name)
    @fake_teachers = 1.upto(50).map do
      [
        govuk_link_to(Faker::Name.name, '#', text_colour: true),
        govuk_link_to(appropriate_bodies.sample, '#', text_colour: true),
        rand(1..3).to_s,
        govuk_tag(text: ['In progress', 'Unkown', 'Induction paused'].sample, colour: %w(blue pink yellow).sample)
      ]
    end.sort_by { |t| t[0] }
  %>

  <%=
    govuk_table(
      head: ['Name', 'Appropriate body', 'Induction periods', 'Induction status'],
      rows: @fake_teachers
    )
  %>
</div>
