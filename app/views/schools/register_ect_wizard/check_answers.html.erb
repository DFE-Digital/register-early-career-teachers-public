<% page_data(title: "Check your answers before submitting", backlink_href: @wizard.previous_step_path) %>

<h2 class="govuk-heading-m">Teacher details</h2>
<%= govuk_summary_list do |summary_list|
  summary_list.with_row do |row|
    row.with_key(text: 'Name')
    row.with_value(text: @ect.full_name)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Teacher Reference Number (TRN)')
    row.with_value(text: @ect.trn)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Date of birth')
    row.with_value(text: @ect.govuk_date_of_birth)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Email address')
    row.with_value(text: @ect.email)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'School start date')
    row.with_value(text: @ect.start_date)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Working pattern')
    row.with_value(text: @ect.formatted_working_pattern)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Appropriate body')
    row.with_value(text: @ect.formatted_appropriate_body_name)
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Programme type')
    row.with_value(text: @ect.formatted_programme_type)
    row.with_action(text: 'Change', href: schools_register_ect_wizard_programme_type_path)      
  end

  summary_list.with_row do |row|
    row.with_key(text: 'Lead provider')
    row.with_value(text: @ect.formatted_lead_provider_name)
    row.with_action(text: 'Change', href: schools_register_ect_wizard_lead_provider_path) if @ect.provider_led?     
  end
end %>

<%= form_with(model: @wizard.current_step, url: @wizard.current_step_path) do |f| %>
  <%= content_for(:error_summary) { f.govuk_error_summary } %>

  <%= f.govuk_submit "Confirm details" %>
<% end %>
