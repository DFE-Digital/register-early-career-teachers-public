<% page_data(
  title: "Which lead provider will be training #{@wizard.teacher_full_name}?",
  backlink_href: @wizard.previous_step_path
) %>

<p class="govuk-body">
  We’ll let the lead provider know your school wants to work with them so they
  can arrange training. They’ll confirm which delivery partner they’ll be
  working with to deliver training events.
</p>

<%= form_with model: @wizard.current_step, url: @wizard.current_step_path do |form| %>
  <%= content_for(:error_summary) { form.govuk_error_summary } %>

  <%= form.govuk_collection_radio_buttons(
        :lead_provider_id,
        @wizard.current_step.lead_providers_for_select,
        :id,
        :name,
        legend: { text: "Select the lead provider", hidden: true }
      ) %>

  <%= form.govuk_submit "Continue" %>

  <%= govuk_details(
        summary_text: <<~TXT.squish
          What are the roles of an appropriate body, lead provider and
          delivery partner?
        TXT
      ) do %>
    <p class="govuk-body">
      An appropriate body is responsible for assuring the quality of the
      statutory induction of ECTs. A lead provider provides the online learning
      platform used for training ECTs and mentors, while the delivery partner
      delivers training events.
    </p>

    <p class="govuk-body">
      These roles are sometimes undertaken by the same organisation, for example
      an appropriate body might be the same organisation as the delivery
      partner.
    </p>
  <% end %>

  <p class="govuk-body">
    <%= govuk_link_to(
          "Cancel and go back to #{@wizard.teacher_full_name}’s details",
          schools_ect_path(@wizard.ect_at_school_period),
          no_visited_state: true
        ) %>
  </p>
<% end %>
