<% page_data(
    title: "Who will mentor #{@wizard.teacher_full_name}?",
    backlink_href: schools_ect_path(@wizard.ect_at_school_period)
) %>

<%= form_with model: @wizard.current_step, url: @wizard.current_step_path do |form| %>
  <%= content_for(:error_summary) { form.govuk_error_summary } %>
  
  <%= form.govuk_radio_buttons_fieldset(:mentor_at_school_period_id, legend: {text: "Select the mentor", hidden: true}) do %>
    <% @wizard.current_step.mentors_for_select.each do |mentor| %>
      <%= form.govuk_radio_button :mentor_at_school_period_id, mentor.id, label: { text: @wizard.name_for(mentor.teacher) } %>
    <% end %>
    <%= form.govuk_radio_divider %>
    <%= form.govuk_radio_button :mentor_at_school_period_id, 0, label: { text: 'Register a new mentor' } %>
  <% end %>
  
  <%= form.govuk_submit "Continue" %>

  <p class="govuk-body">
    <%= govuk_link_to(
          "Cancel and go back to #{@wizard.teacher_full_name}â€™s details",
          schools_ect_path(@wizard.ect_at_school_period),
          no_visited_state: true
        ) %>
  </p>
<% end %>
