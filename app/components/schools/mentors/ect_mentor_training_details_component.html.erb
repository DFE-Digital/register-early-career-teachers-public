<h2 class="govuk-heading-m">ECTE mentor training details</h2>

<% case training_status %>
<% when :not_registered %>
  <p class="govuk-body"><%= teacher_name %> is not currently registered for ECTE mentor training with a lead provider.</p>
<% when :deferred  %>
  <p class="govuk-body"><%= lead_provider_name %> have told us that <%= teacher_name %>’s ECTE mentor training is paused. Contact them if you think this is an error.</p>
<% when :withdrawn %>
  <p class="govuk-body"><%= lead_provider_name %> have told us that <%= teacher_name %> is not registered for ECTE mentor training with them. Contact them if you think this is an error.</p>
  <p class="govuk-body">You can <%= change_lead_provider_link %> for <%= teacher_name %> if they will be training with another lead provider.</p>
<% when :started_not_completed %>
  <p class="govuk-body">Our records show that <%= teacher_name %> cannot do further mentor training.</p>
  <p class="govuk-body">This might be because they’ve completed it before, or started but not completed it.</p>
  <p class="govuk-body">We’ve passed <%= teacher_name %>’s details to their ECTs’ lead provider so they can access ECT training materials. Speak to the lead provider if <%= teacher_full_name(teacher) %> cannot access them.</p>
<% when :completed %>
  <p class="govuk-body"><%= teacher_name %> completed mentor training on <%= ineligible_date_govuk %>.</p>
<% end %>

<% if show_list? %>
  <%= govuk_summary_list do |list| %>
    <% list.with_row do |row| %>
      <% row.with_key { "Lead provider" } %>
      <% row.with_value do %>
        <% if lead_provider_name.present? %>
          <%= lead_provider_name %><%= tag.br %>
          <span class="govuk-hint">
            <%= partnership_confirmed? ? "Confirmed by #{lead_provider_name}" : "Awaiting confirmation by #{lead_provider_name}" %>
          </span>
        <% else %>
          Not available
        <% end %>
      <% end %>
      <% row.with_action(
        text: "Change",
        visually_hidden_text: "lead provider",
        href: schools_mentors_change_lead_provider_wizard_edit_path(@mentor),
        classes: "govuk-link--no-visited-state"
      ) %>
    <% end %>

    <% list.with_row do |row| %>
      <% row.with_key { "Delivery partner" } %>
      <% row.with_value do %>
        <% if partnership_confirmed? && delivery_partner_name.present? %>
          <%= delivery_partner_name %><%= tag.br %>
          <span class="govuk-hint">To change the delivery partner, you must contact the lead provider</span>
        <% else %>
          Yet to be reported by the lead provider
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
